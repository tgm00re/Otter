{"ast":null,"code":"var _jsxFileName = \"/Users/thomasmoore/Documents/Personal Projects/Otter/src/main/myapp/src/Components/EditAccount.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function EditAccount(props) {\n  _s();\n\n  const [firstName, setFirstName] = useState(props.loggedInUser.firstName);\n  const [firstNameError, setFirstNameError] = useState(\"\");\n  const [lastName, setLastName] = useState(props.loggedInUser.lastName);\n  const [lastNameError, setLastNameError] = useState(\"\");\n  const [profileImageUrl, setProfileImageUrl] = useState(props.loggedInUser.profileImageUrl);\n  const [imageError, setImageError] = useState(\"\");\n  const [biography, setBiography] = useState(props.loggedInUser.biography);\n  let history = useHistory();\n\n  function logout() {\n    sessionStorage.clear();\n    history.push(\"/\");\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const editAccountInformation = {\n      id: props.loggedInUser.userId,\n      firstName: firstName,\n      lastName: lastName,\n      profileImageUrl: profileImageUrl,\n      biography: biography\n    };\n    axios.put(\"http://localhost:8080/api/users/update\", editAccountInformation).then(response => {\n      if (!response.data.email) {\n        if (response.data.firstName) {\n          setFirstNameError(response.data.firstName);\n        }\n\n        if (response.data.lastName) {\n          setLastNameError(response.data.lastName);\n        }\n      } else {\n        sessionStorage.setItem(\"loggedInUser\", JSON.stringify(response.data));\n        history.push(\"/home\");\n      }\n    }).catch(err => console.log(err));\n  }\n\n  const convertBase64 = file => {\n    return new Promise((resolve, reject) => {\n      const fileReader = new FileReader();\n      fileReader.readAsDataURL(file);\n\n      fileReader.onload = () => {\n        resolve(fileReader.result);\n      };\n\n      fileReader.onerror = error => {\n        reject(error);\n        setImageError(\"File is too large!\");\n      };\n    });\n  };\n\n  const uploadImage = async e => {\n    const file = e.target.files[0];\n    const base64 = await convertBase64(file);\n    setProfileImageUrl(base64);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"DELETE THIS: \", /*#__PURE__*/_jsxDEV(\"p\", {\n        onClick: logout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 30\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"h1 mt-1 px-1\",\n      style: {\n        fontSize: \"40px\"\n      },\n      children: \"Edit Account Information\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"edit-account\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => handleSubmit(e),\n        className: \"text-center d-flex flex-column align-items-center px-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-start w-100\",\n          children: \"Edit Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row border-bottom w-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col p-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control signup-input\",\n              placeholder: \"First name\",\n              value: firstName,\n              onInput: e => setFirstName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger bold-font text-start\",\n              children: firstNameError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col p-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control signup-input \",\n              placeholder: \"Last name\",\n              value: lastName,\n              onInput: e => setLastName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger bold-font text-start\",\n              children: lastNameError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group border-bottom my-3 w-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-start\",\n            children: \"Edit Profile Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: profileImageUrl,\n            className: \"profile-img-edit my-2\",\n            alt: \"current profile image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"btn btn-primary form-control p-3 rounded-pill w-25\",\n              style: {\n                backgroundColor: \"rgb(29, 155, 240)\",\n                fontWeight: \"bold\"\n              },\n              children: [\"Upload image\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                className: \"form-control bg-transparent border-0\",\n                accept: \"image/*\",\n                onChange: e => uploadImage(e),\n                hidden: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-danger bold-font text-start\",\n            children: imageError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group border-bottom my-3 w-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-start\",\n            children: [\"Edit Biography \", \"( \" + biography.length + \" / 200  )\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"Tell us about yourself, \" + firstName,\n            className: \"w-100 bg-transparent border-0\",\n            rows: \"2\",\n            id: \"tweet-form-input\",\n            maxLength: \"200\",\n            value: biography,\n            onInput: e => {\n              setBiography(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-light rounded-pill register-page-button w-75 p-1 mt-5 mb-3\",\n          id: \"signup-submit-button\",\n          children: \"Save Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"edit-account-mobile\",\n      className: \"px-3\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => handleSubmit(e),\n        className: \"text-center d-flex flex-column align-items-center px-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-start w-100\",\n          children: \"Edit Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-column justify-content-center w-100 align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control signup-input w-100\",\n            placeholder: \"First name\",\n            value: firstName,\n            onInput: e => setFirstName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-danger bold-font text-start\",\n            children: firstNameError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control signup-input \",\n            placeholder: \"Last name\",\n            value: lastName,\n            onInput: e => setLastName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-danger bold-font text-start\",\n            children: lastNameError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"edit-account-separator w-100 border-bottom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(EditAccount, \"iBseOjSg+l7gNPy01fqdFmaIsFY=\", false, function () {\n  return [useHistory];\n});\n\n_c = EditAccount;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditAccount\");","map":{"version":3,"sources":["/Users/thomasmoore/Documents/Personal Projects/Otter/src/main/myapp/src/Components/EditAccount.jsx"],"names":["axios","React","useEffect","useState","useHistory","EditAccount","props","firstName","setFirstName","loggedInUser","firstNameError","setFirstNameError","lastName","setLastName","lastNameError","setLastNameError","profileImageUrl","setProfileImageUrl","imageError","setImageError","biography","setBiography","history","logout","sessionStorage","clear","push","handleSubmit","e","preventDefault","editAccountInformation","id","userId","put","then","response","data","email","setItem","JSON","stringify","catch","err","console","log","convertBase64","file","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","result","onerror","error","uploadImage","target","files","base64","fontSize","value","backgroundColor","fontWeight","length"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react'\nimport { useHistory } from 'react-router';\nexport default function EditAccount(props) {\n    const [firstName, setFirstName] = useState(props.loggedInUser.firstName);\n    const [firstNameError, setFirstNameError] = useState(\"\");\n    const [lastName, setLastName] = useState(props.loggedInUser.lastName);\n    const [lastNameError, setLastNameError] = useState(\"\");\n    const [profileImageUrl, setProfileImageUrl] = useState(props.loggedInUser.profileImageUrl);\n    const [imageError, setImageError] = useState(\"\");\n    const [biography, setBiography] = useState(props.loggedInUser.biography);\n\n\n    let history = useHistory();\n\n    function logout() {\n        sessionStorage.clear();\n        history.push(\"/\");\n    }\n\n\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        const editAccountInformation = {\n            id: props.loggedInUser.userId,\n            firstName: firstName,\n            lastName: lastName,\n            profileImageUrl: profileImageUrl,\n            biography: biography\n        }\n        axios.put(\"http://localhost:8080/api/users/update\", editAccountInformation)\n            .then(response => {\n                if (!response.data.email) {\n                    if (response.data.firstName) {\n                        setFirstNameError(response.data.firstName);\n                    }\n                    if (response.data.lastName) {\n                        setLastNameError(response.data.lastName);\n                    }\n\n                } else {\n                    sessionStorage.setItem(\"loggedInUser\", JSON.stringify(response.data));\n                    history.push(\"/home\");\n                }\n            })\n            .catch(err => console.log(err))\n    }\n\n\n    const convertBase64 = (file) => {\n        return new Promise((resolve, reject) => {\n            const fileReader = new FileReader();\n            fileReader.readAsDataURL(file);\n\n            fileReader.onload = (() => {\n                resolve(fileReader.result)\n            });\n\n            fileReader.onerror = ((error) => {\n                reject(error);\n                setImageError(\"File is too large!\")\n            })\n\n        })\n    }\n\n    const uploadImage = async (e) => {\n        const file = e.target.files[0];\n        const base64 = await convertBase64(file);\n        setProfileImageUrl(base64);\n    }\n\n\n    return (\n        <>\n            <h1>DELETE THIS: <p onClick={logout}>Logout</p></h1>\n\n            <h1 className=\"h1 mt-1 px-1\" style={{ fontSize: \"40px\" }}>Edit Account Information</h1>\n            <div id=\"edit-account\">\n                <form onSubmit={(e) => handleSubmit(e)} className=\"text-center d-flex flex-column align-items-center px-2\">\n\n                    <h4 className=\"text-start w-100\">Edit Name</h4>\n                    <div className=\"row border-bottom w-100\">\n                        <div className=\"col p-0\" >\n                            <input type=\"text\" className=\"form-control signup-input\" placeholder=\"First name\" value={firstName} onInput={e => setFirstName(e.target.value)} />\n                            <p className=\"text-danger bold-font text-start\">{firstNameError}</p>\n                        </div>\n                        <div className=\"col-1\"></div>\n                        <div className=\"col p-0\">\n                            <input type=\"text\" className=\"form-control signup-input \" placeholder=\"Last name\" value={lastName} onInput={e => setLastName(e.target.value)} />\n                            <p className=\"text-danger bold-font text-start\">{lastNameError}</p>\n                        </div>\n                    </div>\n                    <div className=\"form-group border-bottom my-3 w-100\">\n                        <h4 className=\"text-start\">Edit Profile Image</h4>\n                        <img src={profileImageUrl} className=\"profile-img-edit my-2\" alt=\"current profile image\" />\n                        <div>\n                            <label className=\"btn btn-primary form-control p-3 rounded-pill w-25\" style={{ backgroundColor: \"rgb(29, 155, 240)\", fontWeight: \"bold\" }}>Upload image\n                                <input type=\"file\" className=\"form-control bg-transparent border-0\" accept=\"image/*\" onChange={e => uploadImage(e)} hidden />\n                            </label>\n                        </div>\n                        <p className=\"text-danger bold-font text-start\">{imageError}</p>\n                    </div>\n                    <div className=\"form-group border-bottom my-3 w-100\">\n                        <h4 className=\"text-start\">Edit Biography {\"( \" + biography.length + \" / 200  )\"}</h4>\n                        <textarea placeholder={\"Tell us about yourself, \" + firstName} className=\"w-100 bg-transparent border-0\" rows=\"2\" id=\"tweet-form-input\" maxLength=\"200\" value={biography} onInput={e => {\n                            setBiography(e.target.value);\n                        }} />\n                    </div>\n\n                    <button type=\"submit\" className=\"btn btn-light rounded-pill register-page-button w-75 p-1 mt-5 mb-3\" id=\"signup-submit-button\">Save Changes</button>\n                </form>\n            </div>\n            <div id=\"edit-account-mobile\" className=\"px-3\">\n                <form onSubmit={(e) => handleSubmit(e)} className=\"text-center d-flex flex-column align-items-center px-2\">\n                <h4 className=\"text-start w-100\">Edit Name</h4>\n                    <div className=\"d-flex flex-column justify-content-center w-100 align-items-center\">\n                        <input type=\"text\" className=\"form-control signup-input w-100\" placeholder=\"First name\" value={firstName} onInput={e => setFirstName(e.target.value)} />\n                        <p className=\"text-danger bold-font text-start\">{firstNameError}</p>\n                        <input type=\"text\" className=\"form-control signup-input \" placeholder=\"Last name\" value={lastName} onInput={e => setLastName(e.target.value)} />\n                        <p className=\"text-danger bold-font text-start\">{lastNameError}</p>\n                    </div>\n                    <div className=\"edit-account-separator w-100 border-bottom\"></div>\n                    \n                </form>\n            </div>\n\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}