{"ast":null,"code":"var _jsxFileName = \"/Users/thomasmoore/Documents/Personal Projects/Otter/src/main/myapp/src/Components/NotificationsMiddle.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function NotificationsMiddle() {\n  _s();\n\n  const [notifications, setNotifications] = useState([]);\n  useEffect(() => {\n    console.log(\"Running\");\n    const link = \"http://localhost:8080/api/notifications/find/received/\" + sessionStorage.getItem(\"user_id\");\n    console.log(\"Link: \", link);\n    axios.get(link).then(response => setNotifications(response.data)).catch(err => console.log(err));\n  }, []);\n\n  function deleteNotification(notification, index) {\n    axios.delete(\"http://localhost:8080/api/notifications/delete/\" + notification.id).then(response => console.log(response)).catch(err => console.log(err));\n  }\n\n  function deleteNotificationFromArray(index) {\n    let newNotifArr = [...notifications];\n    newNotifArr.splice(index, 1);\n    setNotifications(newNotifArr);\n  }\n\n  function handleAccept(notification, index) {\n    //Create a friendship between the two ids\n    const addFriendship = {\n      firstUserId: notification.recipientId,\n      secondUserId: notification.senderId\n    };\n    axios.post(\"http://localhost:8080/api/friendships/create\", addFriendship).then(response => {\n      console.log(response);\n    }).catch(error => console.log(error)); //Delete the notifcation\n\n    deleteNotification(notification); //Remove notification from notification array\n\n    deleteNotificationFromArray(index);\n  }\n\n  function handleDecline(notification, index) {\n    //Delete the notification\n    deleteNotification(notification);\n    deleteNotificationFromArray(index);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-start ps-2\",\n      children: [\"Notifications - \", notifications.length]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"text-start ps-0\",\n      style: {\n        listStyle: \"none\"\n      },\n      children: notifications.map((item, index) => {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"h5 d-flex p-0 m-0 justify-content-around align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [item.senderName, \" sent you a friend request!\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-transparent border-3 border-success rounded-pill text-success me-3\",\n                id: \"friend-accept-btn\",\n                onClick: () => handleAccept(item, index),\n                children: \"Accept\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn rounded-pill border-danger border-3 border-danger text-danger btn-transparent\",\n                id: \"friend-decline-btn\",\n                onClick: () => handleDecline(item, index),\n                children: \"Decline\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(NotificationsMiddle, \"6gMUc0OfbF4zJu51/S5RmKCczuA=\");\n\n_c = NotificationsMiddle;\n\nvar _c;\n\n$RefreshReg$(_c, \"NotificationsMiddle\");","map":{"version":3,"sources":["/Users/thomasmoore/Documents/Personal Projects/Otter/src/main/myapp/src/Components/NotificationsMiddle.jsx"],"names":["React","useState","useEffect","axios","NotificationsMiddle","notifications","setNotifications","console","log","link","sessionStorage","getItem","get","then","response","data","catch","err","deleteNotification","notification","index","delete","id","deleteNotificationFromArray","newNotifArr","splice","handleAccept","addFriendship","firstUserId","recipientId","secondUserId","senderId","post","error","handleDecline","length","listStyle","map","item","senderName"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nexport default function NotificationsMiddle() {\n    const [notifications, setNotifications] = useState([]);\n\n    useEffect(() => {\n        console.log(\"Running\");\n        const link = \"http://localhost:8080/api/notifications/find/received/\" + sessionStorage.getItem(\"user_id\");\n        console.log(\"Link: \", link)\n        axios.get(link)\n            .then(response => setNotifications(response.data))\n            .catch(err => console.log(err));\n    }, [])\n\n    function deleteNotification(notification, index){\n        axios.delete(\"http://localhost:8080/api/notifications/delete/\" + notification.id)\n            .then(response => console.log(response))\n            .catch(err => console.log(err))\n    }\n\n    function deleteNotificationFromArray(index){\n        let newNotifArr = [...notifications];\n        newNotifArr.splice(index, 1);\n        setNotifications(newNotifArr);\n    }\n\n    function handleAccept(notification, index){\n        //Create a friendship between the two ids\n        const addFriendship = {\n            firstUserId: notification.recipientId,\n            secondUserId: notification.senderId\n        }\n        axios.post(\"http://localhost:8080/api/friendships/create\", addFriendship)\n            .then(response => {\n                console.log(response)\n            })\n            .catch(error => console.log(error));\n        //Delete the notifcation\n        deleteNotification(notification);\n        //Remove notification from notification array\n        deleteNotificationFromArray(index);\n    }\n\n    function handleDecline(notification, index){\n        //Delete the notification\n        deleteNotification(notification);\n        deleteNotificationFromArray(index);\n    }\n\n\n\n\n\n    return (\n        <>\n            <h1 className=\"text-start ps-2\">Notifications - {notifications.length}</h1>\n            <hr />\n            <ul className=\"text-start ps-0\" style={{listStyle: \"none\"}}>\n                {\n                    notifications.map((item, index) => {\n                        return (\n                            <>\n                            <li className=\"h5 d-flex p-0 m-0 justify-content-around align-items-center\">\n                                <span>\n                                    {item.senderName} sent you a friend request!\n                                </span>\n                                <div>\n                                    <button className=\"btn btn-transparent border-3 border-success rounded-pill text-success me-3\" id=\"friend-accept-btn\" onClick={() => handleAccept(item, index)}>Accept</button>\n                                    <button className=\"btn rounded-pill border-danger border-3 border-danger text-danger btn-transparent\" id=\"friend-decline-btn\" onClick={() => handleDecline(item, index)}>Decline</button>\n                                </div>\n                            </li>\n                            <hr />\n                            </>\n                        )\n                    })\n                }\n            </ul>\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}